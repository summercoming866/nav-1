{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","simplifyUrl","url","replace","render","remove","hashMap","forEach","node","index","$li","logo","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","console","log","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.7512669c.js","sourceRoot":"../src","sourcesContent":["const $siteList = $(\".siteList\");\nconst $lastLi = $siteList.find(\"li.last\");\nconst x = localStorage.getItem(\"x\");\nconst xObject = JSON.parse(x);\nconst simplifyUrl = (url) => {\n  return url\n    .replace(\"http://\", \"\")\n    .replace(\"https://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\");\n};\nconst render = () => {\n  //渲染\n  $siteList.find(\"li:not(.last)\").remove(); //渲染之前要先清一波之前页面的\n  hashMap.forEach((node,index) => {\n    const $li = $(`<li>\n          \n            <div class=\"site\">\n              <div class=\"logo\">\n                ${node.logo}\n              </div>\n              <div class=\"link\">${simplifyUrl(node.url)}</div>\n              <div class=\"close\">\n                <svg class=\"icon\">\n                    <use xlink:href=\"#icon-close\"></use>\n                </svg>\n              </div>\n            </div>\n        \n        </li>`).insertBefore($lastLi);\n        $li.on('click',()=>{\n            window.open(node.url)\n        })\n        $li.on('click','.close',(e)=>{\n            e.stopPropagation()\n            hashMap.splice(index,1)\n            render()\n        })\n  });\n};\nconst hashMap = xObject || [\n  { logo: \"A\", url: \"https://www.acfun.cn\" },\n  {\n    logo: \"B\",\n\n    url: \"http://www.bilibili.com\",\n  },\n];\nrender();\n\n$(\".addButton\").on(\"click\", () => {\n  let url = window.prompt(\"要添加什么网址呢？\");\n  if (url.indexOf(\"http\" !== 0)) {\n    url = \"https://\" + url;\n\n    //     const $li = $(`<li>\n    //     <a href=\"${url}\">\n    //       <div class=\"site\">\n    //         <div class=\"logo\">${url[0]}</div>\n    //         <div class=\"link\">${url}</div>\n    //       </div>\n    //     </a>\n    //   </li>`).insertBefore($lastLi);\n    hashMap.push({ logo: simplifyUrl(url)[0].toUpperCase(), url: url });\n    render();\n  }\n});\nwindow.onbeforeunload = () => {\n  console.log(\"页面要关闭了\");\n  const string = JSON.stringify(hashMap);\n  console.log(typeof hashMap);\n  console.log(hashMap);\n  console.log(typeof string);\n  console.log(string);\n  window.localStorage.setItem(\"x\", string);\n};\n//监听键盘\n$(document).on('keypress',(e)=>{\n    const {key}=e\n    for(let i=0;i<hashMap.length;i++){\n       if(hashMap[i].logo.toLowerCase()===key) {\n           window.open(hashMap[i].url)\n       }\n    }\n})"]}